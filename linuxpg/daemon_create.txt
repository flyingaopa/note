daemon进程创建

1. 后台运行并且没有控制终端，这意味着内核不会为daemon进程发任务控制signal和终端相关的
signal(如SIGINT， SIGTSTP，SIGHUP）

2. 创建步骤
1) 第一次fork, 然后父进程推出，子进程继续。fork作用是确保子进程不会成为进程组首进程，
注：进程组首进程不能调用setsid

2) 调用setsid开启一个新会话并且断开任何控制终端(如果有的话)

3) 再一次fork,然后父进程推出，子进程继续. fork作用是确保进程不会成为会话首进程，
这样进程不会重新请求控制终端

4) 清除umask

5) 修改进程的当前工作目录，通常为根目录
注：如果不是root, 可能会导致给文件系统无法卸载

6) 关闭文件描述符

7) 打开/dev/null,并用dup2使 0 1 2 描述符指向/dev/null

